<body>
  <!-- 第一张图 -->
  <div class="chat-window" id="chat-window-1">
    <div class="chat-header">AI assistant (part 1)</div>
    <div class="chat-body" id="chat-body-1"></div>
  </div>

  <!-- 第二张图 -->
  <div class="chat-window" id="chat-window-2">
    <div class="chat-header">AI assistant (part 2)</div>
    <div class="chat-body" id="chat-body-2"></div>
  </div>
</body>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const allMsgs = [
      /* 你的所有 msgs 数组，不变 */
      { role: 'user', text: "This fucking assignment is driving me insane. I’ve had enough of this shit." },
      /* … */
      { role: 'bot',  text: "acknowledged." }
    ];

    // 将消息一分为二
    const mid = Math.ceil(allMsgs.length / 2);
    const msgs1 = allMsgs.slice(0, mid);
    const msgs2 = allMsgs.slice(mid);

    function renderChat(msgs, chatBody) {
      msgs.forEach(m => {
        const row = document.createElement('div');
        row.className = 'chat-message ' + m.role;
        if (m.role === 'bot') {
          const av = document.createElement('div');
          av.className = 'avatar';
          row.appendChild(av);
        }
        const msgDiv = document.createElement('div');
        msgDiv.className = 'message';
        msgDiv.textContent = m.text;
        row.appendChild(msgDiv);
        chatBody.appendChild(row);

        if (m.doc) {
          const docRow = document.createElement('div');
          docRow.className = 'doc-row ' + m.role;
          const doc = document.createElement('div');
          doc.className = 'chatgpt-doc';
          const icon = document.createElement('img');
          icon.src = 'https://img.icons8.com/ios-filled/50/ffffff/document--v1.png';
          icon.className = 'chatgpt-doc-icon';
          const text = document.createElement('div');
          text.className = 'chatgpt-doc-text';
          text.innerHTML = '<strong>paper.doc</strong>';
          doc.appendChild(icon);
          doc.appendChild(text);
          docRow.appendChild(doc);
          chatBody.appendChild(docRow);
        }
      });
      // 滚到底部
      chatBody.scrollTop = chatBody.scrollHeight;
    }

    // 渲染到两个窗口
    renderChat(msgs1, document.getElementById('chat-body-1'));
    renderChat(msgs2, document.getElementById('chat-body-2'));
  });
</script>
